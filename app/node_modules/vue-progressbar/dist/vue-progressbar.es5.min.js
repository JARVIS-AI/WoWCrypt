"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var component=require("./vue-progressbar.vue"),_vueProgressBar=_interopRequireDefault(component);const d_progressbar=function(){var t={$root:null,state:{pTime:null,settings:null,timer:null,hideTimer:null,hideTimer2:null,revertTimer:null,cut:0},log:function(t){return f_log(this,t)},init:function(t){return f_init(this,t)},start:function(t){return this.$root.currentProgression++,f_start(this,t)},set:function(t){return f_set(this,t)},get:function(){return f_get(this)},increase:function(t){return f_increase(this,t)},decrease:function(t){return f_decrease(this,t)},readyToRevert:function(){return f_readyToRevert(this)},revert:function(){return f_revert(this)},quickHide:function(){return f_quickHide(this)},hide:function(){return f_hide(this)},pause:function(){return f_pause(this)},finish:function(){return f_finish(this)},fail:function(){return f_fail(this)},callMeta:function(){var t=Array.prototype.slice.call(arguments);return f_callMeta(this,t)},callSetTemp:function(){var t=Array.prototype.slice.call(arguments);return f_callSetTemp(this,t)},callRevert:function(t){return f_callRevert(this,t)},call:function(){var t=Array.prototype.slice.call(arguments);return f_call(b,t)},parseMeta:function(t){return f_parseMeta(this,t)},randomize:function(t){return f_randomize(this,t)}};return t},d_bardata=function(t){var e={init:void 0===t.init||t.init,initiated:!1,percent:0,hidden:!0,quickHide:!1,quicklyHid:!1,setupInverse:!1,currentProgression:0,temp:{rGradient:!0,use:!1,autoRevert:!0,canSuccess:!0,color:"rgb(19, 91, 55)",debug:!1,failedColor:"red",inverse:!1,location:"top",show:!1,thickness:"2px",trail:"-1px",transition:{time:"0.2s",opacity:"0.6s"}},options:{rGradient:void 0===t.rGradient||t.rGradient,autoRevert:void 0===t.autoRevert||t.autoRevert,canSuccess:!0,color:t.color||"rgb(19, 91, 55)",debug:t.debug||!1,failedColor:t.failedColor||"red",inverse:t.inverse||!1,location:t.location||"top",show:!1,thickness:t.thickness||"2px",trail:t.trail||"-1px",transition:t.transition||{time:"0.2s",opacity:"0.6s"}}};return e},g_progressBar=function(){var t=Array.prototype.slice.call(arguments),e=null!==t[0]?t[0]:null,r=null!==t[1]?t[1]:{};return void 0===e&&(e=g_rUUID("##-#")),{reference:e,progress:d_progressbar(),data:d_bardata(r)}},g_rUUID=function(t){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},r="";if(void 0!==t)for(var o=0;o<t.length;o++)switch(t.charAt(o)){case"-":r+="-";break;default:r+=e()}else r=e()+"-"+e();return r},g_rIntInclusive=function(t,e){return t=Math.floor(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},g_rColor=function(t){var e={min:0,max:255},r={min:0,max:255},o={min:0,max:255};return void 0!==t&&(void 0!==t.r&&(void 0!==t.r.min?e.min=t.r.min:null,void 0!==t.r.max?e.max=t.r.max:null),void 0!==t.g&&(void 0!==t.g.min?r.min=t.g.min:null,void 0!==t.g.max?r.max=t.g.max:null),void 0!==t.b&&(void 0!==t.b.min?o.min=t.b.min:null,void 0!==t.b.max?o.max=t.b.max:null)),"rgb("+g_rIntInclusive(e.min,e.max)+", "+g_rIntInclusive(r.min,r.max)+", "+g_rIntInclusive(o.min,o.max)+")"},g_rThickness=function(t){var e=2,r=7,o="px";return void 0!==t&&(void 0!==t.min?e=t.min:null,void 0!==t.max?r=t.max:null,void 0!==t.suffix?o=t.suffix:null),g_rIntInclusive(e,r)+o},g_rTrail=function(t){var e=50,r=100,o="px";return void 0!==t&&(void 0!==t.min?e=t.min:null,void 0!==t.max?r=t.max:null,void 0!==t.suffix?o=t.suffix:null),g_rIntInclusive(e,r)+o},g_rTransition=function(t){var e,r,o,i,n;return void 0!==t?(void 0!==t.time.min&&void 0!==t.time.max?(e=t.time.min%1===0||t.time.max%1===0?0:g_rIntInclusive(Math.floor(t.time.min%1*100),Math.floor(t.time.max%1*100)),o=g_rIntInclusive(t.time.min,t.time.max)):(o=g_rIntInclusive(0,1),e=o<1?g_rIntInclusive(50,99):g_rIntInclusive(0,50)),void 0!==t.opacity.min&&void 0!==t.opacity.max?(r=t.opacity.min%1===0||t.opacity.max%1===0?0:g_rIntInclusive(Math.floor(t.opacity.min%1*100),Math.floor(t.opacity.max%1*100)),i=g_rIntInclusive(t.opacity.min,t.opacity.max)):(i=g_rIntInclusive(0,1),r=i<1?g_rIntInclusive(50,99):g_rIntInclusive(0,50))):(o=g_rIntInclusive(0,1),i=g_rIntInclusive(0,1),e=o<1?g_rIntInclusive(50,99):g_rIntInclusive(0,50),r=i<1?g_rIntInclusive(50,99):g_rIntInclusive(0,50)),n={time:o+"."+e+"s",opacity:i+"."+r+"s"}},g_rLocation=function(t){if(void 0!==t)return t[g_rIntInclusive(0,t.length-1)];switch(g_rIntInclusive(0,3)){case 0:return"top";case 1:return"bottom";case 2:return"left";case 3:return"right"}},g_rInverse=function(t){if(void 0!==t)return t[g_rIntInclusive(0,t.length-1)];switch(g_rIntInclusive(0,1)){case 0:return!1;case 1:return!0}},r_regexColor=new RegExp("(^#[0-9a-fA-F]{6}$)|(^#[0-9a-fA-F]{3}$)|(^rgb\\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\\)$)"),r_regexLocation=new RegExp("(left|right|top|bottom)"),r_regexTime=new RegExp("(\\d+\\.\\d+)(s|ms)|(\\.\\d+)(s|ms)|(\\d+)(s|ms)"),r_regexThickness=new RegExp("(\\d+\\.\\d+)(px|em|pt|%|vh|vw)|(\\.\\d+)(px|em|pt|%|vh|vw)|(\\d+)(px|em|pt|%|vh|vw)"),r_regexTrail=new RegExp("(\\d+\\.\\d+)(px|em|pt|%|vh|vw)|(\\.\\d+)(px|em|pt|%|vh|vw)|(\\d+)(px|em|pt|%|vh|vw)"),h_validColor=function(t){return r_regexColor.test(t)},h_validLocation=function(t){return r_regexLocation.test(t)},h_validTime=function(t){return r_regexTime.test(t)},h_validThickness=function(t){return r_regexThickness.test(t)},h_validTrail=function(t){return r_regexTrail.test(t)},h_validate=function(){var t=Array.prototype.slice.call(arguments);if(void 0!==t&&void 0!==t[0]&&void 0!==t[1])switch(t[0]){case"color":return h_validColor(t[1]);case"fail":return h_validColor(t[1]);case"location":return h_validLocation(t[1]);case"time":return h_validTime(t[1]);case"thickness":return h_validThickness(t[1]);case"trail":return h_validTrail(t[1]);case"inverse":return"boolean"==typeof t[1];case"transition":return h_validTime(t[1].time)&&h_validTime(t[1].opacity)}else{console.log(t);var e=(new Error).stack.split("\n")[4];console.log("not enough arguments: "+e)}},h_setFailColor=function(t,e,r){r?(t.$root.temp.failedColor=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.failedColor=e},h_setColor=function(t,e,r){r?(t.$root.temp.color=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.color=e},h_setLocation=function(t,e,r){r?(t.$root.temp.location=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.location=e},h_setTransition=function(t,e,r){r?(t.$root.temp.transition=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.transition=e},h_setInverse=function(t,e,r){r?(t.$root.temp.inverse=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.inverse=e},h_setThickness=function(t,e,r){r?(t.$root.temp.thickness=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.thickness=e},h_setTrail=function(t,e,r){r?(t.$root.temp.trail=e,t.$root.temp.use?null:t.$root.temp.use=!0):t.$root.options.trail=e},h_set=function(t){var e=Array.prototype.slice.call(arguments);"color"===e[1]?h_setColor(t,e[2],e[3]):null,"fail"===e[1]?h_setFailColor(t,e[2],e[3]):null,"location"===e[1]?h_setLocation(t,e[2],e[3]):null,"transition"===e[1]?h_setTransition(t,{time:e[2].time,opacity:e[2].opacity},e[3]):null,"inverse"===e[1]?h_setInverse(t,e[2],e[3]):null,"thickness"===e[1]?h_setThickness(t,e[2],e[3]):null,"trail"===e[1]?h_setTrail(t,e[2],e[3]):null},f_log=function(t,e){t.state.settings.debug&&console.log(e)},f_init=function(t,e){t.$root=e,t.state.settings=t.$root.options,t.$root.initiated=!0},f_start=function(t,e){t.$root.temp.use?t.state.settings=t.$root.temp:t.state.settings=t.$root.options,e||(h_validate("time",t.state.settings.transition.time)?(t.state.pTime=parseFloat(t.state.settings.transition.time.replace("/(ms|s)/")),t.state.settings.transition.time.includes("ms")||(t.state.pTime*=1e3),e=t.state.pTime):(f_log(t,"invalid time: "+t.state.settings.transition.time),f_log(t,"valid formats: ##, #.#, .# [ms|s]"),f_log(t,"example: 1000ms, 1.0s, .10ms"),t.state.pTime=e=3e3)),t.$root&&(t.$root.hidden=!1,t.state.settings.show=!0,t.state.settings.canSuccess=!0,t.state.cut=1e4/Math.floor(e),t.state.timer=setInterval(function(){f_increase(t,t.state.cut*Math.random()),t.$root.percent>95&&f_finish(t)},100))},f_set=function(t,e){t.state.settings.show=!0,t.state.settings.canSuccess=!0,t.$root.percent=Math.floor(e)},f_get=function(t){return Math.floor(t.$root.percent)},f_increase=function(t,e){t.$root.percent=t.$root.percent+Math.floor(e)},f_decrease=function(t,e){t.$root.percent=t.$root.percent-Math.floor(e)},f_readyToRevert=function t(e){e.$root.hidden?f_revert(e):e.state.revertTimer=setTimeout(function(){t(e)},500)},f_revert=function(t){t.$root.temp={use:!1,debug:t.$root.options.debug,canSuccess:t.$root.options.canSuccess,show:t.$root.options.show,color:t.$root.options.color,failedColor:t.$root.options.failedColor,thickness:t.$root.options.thickness,autoRevert:t.$root.options.autoRevert,location:t.$root.options.location,inverse:t.$root.options.inverse,transition:t.$root.options.transition,trail:t.$root.options.trail}},f_quickHide=function(t){return!t.$root.hidden&&(t.$root.quickHide=!0,t.$root.percent=0,clearInterval(t.state.timer),clearTimeout(t.state.hideTimer),clearTimeout(t.state.hideTimer2),t.state.timer=null,t.state.settings.autoRevert&&t.$root.temp.use&&(clearTimeout(t.state.revertTimer),f_revert(t)),!0)},f_hide=function(t){clearInterval(t.state.timer),t.state.timer=null,t.state.settings.autoRevert&&t.$root.temp.use&&f_readyToRevert(t),t.state.hideTimer=setTimeout(function(){t.$root.options.show=!1,t.$root.percent=0,f_log(t,"1"),t.state.hideTimer2=setTimeout(function(){f_log(t,"2"),t.$root.hidden=!0},t.state.pTime)},t.state.pTime)},f_pause=function(t){clearInterval(t.state.timer)},f_finish=function(t){t.$root&&(t.$root.percent=100,f_hide(t))},f_fail=function(t,e){t.state.settings.canSuccess=!1,t.$root.percent=100,f_hide(t)},f_callMeta=function(t){var e=Array.prototype.slice.call(arguments);f_call(t,"set",e[1],e[3],"temp"===e[2])},f_callSetTemp=function(t){var e=Array.prototype.slice.call(arguments);void 0!==e[1]&&void 0!==e[2]&&void 0!==e[3]&&(h_validate(e[1],e[2])?h_set(t,e[1],e[2],e[3]):f_log(t,"invalid '"+e[1]+"' input: \""+e[2]+'"'))},f_callRevert=function(t,e){h_set(t,e,t.$root.options.color,!0)},f_call=function(t){var e,r=Array.prototype.slice.call(arguments);switch(e="temp"!==r[1]&&"set"!==r[1]||void 0===r[4]?null:r[4],r[1]){case"meta":f_callMeta(t,r[2],r[3],r[4]);break;case"temp":null===e&&(e=!0),f_callSetTemp(t,r[2],r[3],e);break;case"set":null===e&&(e=!1),f_callSetTemp(t,r[2],r[3],e);break;case"revert":f_callRevert(t,r[2])}},f_parseMeta=function(t,e){for(var r in e.func)f_call(t,"meta",e.func[r].call,e.func[r].modifier,e.func[r].argument)},f_randomize=function(t,e){var r={color:null,fail:null,thickness:null,location:null,inverse:null,transition:null};void 0!==e&&void 0!==e.color?r.color=g_rColor(e.color):r.color=g_rColor(),void 0!==e&&void 0!==e.fail?r.fail=g_rColor(e.fail):r.fail=g_rColor(),void 0!==e&&void 0!==e.thickness?r.thickness=g_rThickness(e.thickness):r.thickness=g_rThickness(),void 0!==e&&void 0!==e.location?r.location=g_rLocation(e.location):r.location=g_rLocation(),void 0!==e&&void 0!==e.inverse?r.inverse=g_rInverse(e.inverse):r.inverse=g_rInverse(),void 0!==e&&void 0!==e.transition?r.transition=g_rTransition(e.transition):r.transition=g_rTransition(),void 0!==e&&void 0!==e.trail?r.trail=g_rTrail(e.trail):r.trail=g_rTrail();var o={func:[{call:"color",modifier:"temp",argument:r.color},{call:"fail",modifier:"temp",argument:r.fail},{call:"thickness",modifier:"temp",argument:r.thickness},{call:"location",modifier:"temp",argument:r.location},{call:"inverse",modifier:"temp",argument:r.inverse},{call:"transition",modifier:"temp",argument:r.transition},{call:"trail",modifier:"temp",argument:r.trail}]};f_parseMeta(t,o)},install=function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("2"!==t.version.split(".")[0])return void console.error("[ProgressBar] VueJS: out of date. 'v"+t.version+"' of Vue is not supported. Please update to 'v2.x'");console.log("[ProgressBar] VueJS: version valid.");var e=("undefined"!=typeof window,[]),r=new t({data:{bars:e},methods:{init:function(t){t.data.initiated?console.log("[ProgressBar-"+t.reference+"] already initialized."):(t.progress.init(t.data),console.log("[ProgressBar-"+t.reference+"] initialized."))},get:function(t){for(var e=0;e<this.bars.length;e++)if(this.bars[e].reference===t)return this.bars[e];return null},add:function(t){null===this.get(t.reference)?(this.bars.push(t),console.log("[ProgressBar-"+t.reference+"] added."),t.data.init?t.data.initialized?console.log("[ProgressBar-"+t.reference+"] initialization already completed."):this.init(t):console.log("[ProgressBar-"+t.reference+"] initialization must be done manually.")):console.error("[ProgressBar] progress bar already registered under that name: '"+t.reference+"'")},create:function(t,e){if(null!==this.get(t))return void console.error("[ProgressBar] progress bar already registered under that name: '"+t+"'");var e=void 0!==e?e:{},r={reference:t,progress:d_progressbar(),data:d_bardata(e)};this.add(r)}}});t.component("vue-progress-bar",_vueProgressBar.default),t.prototype.$pb=r};module.exports={install:install};
//# sourceMappingURL=dist/vue-progressbar.es5.js.map